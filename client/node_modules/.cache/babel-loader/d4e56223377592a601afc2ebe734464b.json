{"ast":null,"code":"//Esta función se ocupa de guardar un record\nimport records from \"./records.json\"; //importa el archivo json\n//Se ocupa de poder crear el json\n\nconst fs = require('fs'); // Almaciena el número de datos que ha de guardar\n\n\nconst numeroDePuntuacionesAGuardar = 10;\n\nfunction guardarPuntuacion(nombreUsuario, puntos, numeroDeCompuestos) {\n  var recorsActuales = records; //ordena la matriz de objetos del json\n\n  recorsActuales.sort(function (a, b) {\n    if (a.puntos > b.puntos) {\n      return -1;\n    } else if (a.puntos === b.puntos) {\n      return 0;\n    } else {\n      return +1;\n    }\n  }); //Comprueba si ha entrado en el ranking\n\n  if (recorsActuales[recorsActuales.length - 1].puntos < puntos) {\n    let objetoNuevo = {\n      nombre: nombreUsuario,\n      puntos: puntos,\n      numeroDeCompuestos: numeroDeCompuestos\n    };\n\n    if (numeroDePuntuacionesAGuardar <= recorsActuales.length) {\n      //Elimina la última del array\n      recorsActuales.pop();\n    } //Añade al array el nuvo elemento\n\n\n    recorsActuales.push(objetoNuevo);\n    console.log(recorsActuales);\n  }\n\n  console.log(recorsActuales);\n}\n\nexport default guardarPuntuacion;","map":{"version":3,"sources":["/home/javi/Programacion/Web/Formulacion/src/guardarRecords.js"],"names":["records","fs","require","numeroDePuntuacionesAGuardar","guardarPuntuacion","nombreUsuario","puntos","numeroDeCompuestos","recorsActuales","sort","a","b","length","objetoNuevo","nombre","pop","push","console","log"],"mappings":"AAAA;AACA,OAAOA,OAAP,MAAoB,gBAApB,C,CACA;AACA;;AAEA,MAAMC,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB,C,CAEA;;;AAEA,MAAMC,4BAA4B,GAAG,EAArC;;AAGA,SAASC,iBAAT,CAA2BC,aAA3B,EAA0CC,MAA1C,EAAkDC,kBAAlD,EAAsE;AAElE,MAAIC,cAAc,GAAGR,OAArB,CAFkE,CAIlE;;AAEAQ,EAAAA,cAAc,CAACC,IAAf,CAAoB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChC,QAAID,CAAC,CAACJ,MAAF,GAAWK,CAAC,CAACL,MAAjB,EAAyB;AAErB,aAAO,CAAC,CAAR;AACH,KAHD,MAGO,IAAII,CAAC,CAACJ,MAAF,KAAaK,CAAC,CAACL,MAAnB,EAA2B;AAC9B,aAAO,CAAP;AACH,KAFM,MAEA;AACH,aAAO,CAAC,CAAR;AACH;AACJ,GATD,EANkE,CAiBlE;;AAEA,MAAIE,cAAc,CAACA,cAAc,CAACI,MAAf,GAAwB,CAAzB,CAAd,CAA0CN,MAA1C,GAAmDA,MAAvD,EAA+D;AAC3D,QAAIO,WAAW,GAAG;AACdC,MAAAA,MAAM,EAAET,aADM;AAGdC,MAAAA,MAAM,EAAEA,MAHM;AAKdC,MAAAA,kBAAkB,EAAEA;AALN,KAAlB;;AAQA,QAAIJ,4BAA4B,IAAIK,cAAc,CAACI,MAAnD,EAA2D;AACvD;AACAJ,MAAAA,cAAc,CAACO,GAAf;AAEH,KAb0D,CAe3D;;;AAEAP,IAAAA,cAAc,CAACQ,IAAf,CAAoBH,WAApB;AAEAI,IAAAA,OAAO,CAACC,GAAR,CAAYV,cAAZ;AAGH;;AAIDS,EAAAA,OAAO,CAACC,GAAR,CAAYV,cAAZ;AAEH;;AAID,eAAeJ,iBAAf","sourcesContent":["//Esta función se ocupa de guardar un record\nimport records from \"./records.json\";\n//importa el archivo json\n//Se ocupa de poder crear el json\n\nconst fs = require('fs');\n\n// Almaciena el número de datos que ha de guardar\n\nconst numeroDePuntuacionesAGuardar = 10;\n\n\nfunction guardarPuntuacion(nombreUsuario, puntos, numeroDeCompuestos) {\n\n    var recorsActuales = records;\n\n    //ordena la matriz de objetos del json\n\n    recorsActuales.sort(function (a, b) {\n        if (a.puntos > b.puntos) {\n\n            return -1;\n        } else if (a.puntos === b.puntos) {\n            return 0;\n        } else {\n            return +1;\n        }\n    })\n\n    //Comprueba si ha entrado en el ranking\n\n    if (recorsActuales[recorsActuales.length - 1].puntos < puntos) {\n        let objetoNuevo = {\n            nombre: nombreUsuario,\n\n            puntos: puntos,\n\n            numeroDeCompuestos: numeroDeCompuestos\n        }\n\n        if (numeroDePuntuacionesAGuardar <= recorsActuales.length) {\n            //Elimina la última del array\n            recorsActuales.pop();\n\n        }\n\n        //Añade al array el nuvo elemento\n\n        recorsActuales.push(objetoNuevo);\n\n        console.log(recorsActuales);\n\n\n    }\n\n\n\n    console.log(recorsActuales)\n\n}\n\n\n\nexport default guardarPuntuacion;\n\n"]},"metadata":{},"sourceType":"module"}