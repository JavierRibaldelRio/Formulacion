{"ast":null,"code":"var _jsxFileName = \"/home/javi/Programacion/Web/Formulacion/Client/src/App.js\";\nimport './App.css'; //Importa la hoja de estilo App\n\nimport './main.css';\nimport './notificacion.css';\nimport './tipografias.css';\nimport './elementos.css';\nimport ListaCompuestos from './ListaCompuestoCreados';\nimport Marcador from './Marcador';\nimport Validacion from './Validar';\nimport ElementoReact from './ElementoReact';\nimport NotificacicionUsuario from './notificacion';\nimport PilaRobar from './PilaDeRobar'; //Variables a Importar\n\nimport numeroDeCartas from './palabrasClaves';\nimport { tiempoNotificacionSegundos } from './palabrasClaves';\nimport TablaRecords from './TablaRecords';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar React = require('react'); //Activa REACt\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props); //Define las propiedades\n\n    this.state = {\n      arrayObjeto: [...window.$cartasDisponibles],\n      puntosTotales: 0,\n      notficacion: undefined,\n      buenaNotificacion: true,\n      juegoAcabado: false,\n      juegoEnMarcha: false,\n      textoBotonControl: \"Empezar\",\n      compuestosCreados: [],\n      api: undefined,\n      todosLosRecords: undefined,\n      //Almacena todos los records que han sido desacargados desde la api\n      nombreUsuario: undefined //Almacena el nnomvbre del usuario\n\n    };\n  } //Actualiza el estado y suma los puntos\n\n\n  actualizarEstado(a, nuevoCompuestoCreado) {\n    this.setState({\n      arrayObjeto: [...window.$cartasDisponibles],\n      puntosTotales: Number(a + this.state.puntosTotales),\n      compuestosCreados: this.state.compuestosCreados.concat(nuevoCompuestoCreado)\n    });\n  } //Función que añade el elemento robado a la clase\n\n\n  anyadirCartaRobado(elementoRobado) {\n    //Se utiliza concat en vez de push porqur push no se puede usar en react\n    this.setState({\n      arrayObjeto: this.state.arrayObjeto.concat(elementoRobado)\n    });\n  } //Devolver las cartas disponiles al estado original\n\n\n  devolverAlEstadoOriginal() {\n    //Devolver las cartas disponiles al estado original\n    this.setState({\n      arrayObjeto: [...window.$cartasDisponibles]\n    });\n  } //roba una carta\n\n\n  robarCarta(cartaARobar) {\n    //Elimina la 1ª casilla del array baraja\n    window.$baraja.splice(0, 1);\n    this.setState({\n      arrayObjeto: [...window.$cartasDisponibles].concat(window.$baraja[0])\n    }); //Dice que carta robar usada es igual a falso\n\n    window.$cartaRobarUsada = false; //Definimos cual es la carta robada\n\n    window.$cartaRobada = window.$baraja[0]; //Devolvemos baraja [0]\n\n    return window.$baraja[0];\n  } //Edita el estado conforme el imput y lo devuelve a configuración origianl\n\n\n  notificar(nuevaNotificacion, bien) {\n    //Añade al estado la notificación y si es buena o mal\n    this.setState({\n      notficacion: nuevaNotificacion,\n      buenaNotificacion: bien\n    }); //Pone un ocntador hacía atras\n\n    setTimeout(function () {\n      //Revierte el estado poniendolo en configuración original\n      this.setState({\n        notficacion: undefined,\n        buenaNotificacion: true\n      });\n    }.bind(this), tiempoNotificacionSegundos * 1000); //El numero es el tiempo en milisegundos, por eso multiplico por mil\n  } //Cambia el esta haviendo que el juego se acabe\n\n\n  terminar() {\n    //Hace que juego acabado sea igual a verdadero\n    this.setState({\n      juegoAcabado: true\n    });\n  } //Pausa o despausa el texto\n\n\n  pausarOContinuar() {\n    var nuevoTexto; //Texto que va a contener el texto\n    //Comprueba si juego esta en marcha\n\n    if (this.state.juegoEnMarcha === true) {\n      //Asigna el nuevo texto\n      nuevoTexto = \"Reanudar\";\n    } else {\n      nuevoTexto = \"Pausar\";\n    } //Invierte el valor de \n\n\n    this.setState({\n      juegoEnMarcha: !this.state.juegoEnMarcha,\n      textoBotonControl: nuevoTexto\n    });\n  }\n\n  componentDidMount() {\n    //API\n    fetch(\"http://localhost:3000/fetchrecords\").then(response => response.json()).then(data => {\n      this.setState({\n        todosLosRecords: data\n      });\n    });\n  } //Se ejecuta al enviar el formulario\n\n\n  enviarFormulario(e) {\n    e.preventDefault();\n    let nickNuevoRecord = this.state.nombreUsuario;\n\n    if (comprobarSiCoinciden(this.state.todosLosRecords) === true) {\n      this.notificar(\"Este nombre ya esta en uso\", false);\n    } else {\n      var puntos = this.state.puntosTotales;\n      var nombre = this.state.nombreUsuario;\n      var url = `http://localhost:3000/comprobar/?nick=${nombre}&puntos=${puntos}`;\n      fetch(url).then(response => response.json()).then(data => {\n        this.setState({\n          todosLosRecords: data\n        });\n      });\n      this.notificar(\"Has entrado en el ranking.\", true);\n    } //Comprueba que los nombres no coinciden\n\n\n    function comprobarSiCoinciden(arr) {\n      for (var i = 0; i < arr.length; i++) {\n        if (nickNuevoRecord === arr[i].nick) {\n          return true;\n        }\n      }\n    }\n  } //Lo que devolvera el componente APP\n\n\n  render() {\n    //Sí el juego ha acabdo\n    if (this.state.juegoAcabado === true) {\n      var aMostrar = undefined; //almacena si ha habiado un nuevo record\n\n      var mostrarTabla = /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Mensaje_Error\",\n        children: \"Se a producido un error, por favor refresque la p\\xE1gina\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 26\n      }, this); //Alamacenará la tabla en caso de que se muestre\n\n\n      var h1CompuestosCreados = /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Lista de Compuestos Generados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 33\n      }, this); //Se ocupa de ver si entra en el podium\n      //Comprueba que se han obtenido los datos en forma de arrya\n\n\n      if (this.state.todosLosRecords !== undefined) {\n        //renderiza la opción  de guardar nombre\n        if (this.state.puntosTotales > this.state.todosLosRecords[this.state.todosLosRecords.length - 1].puntos) {\n          aMostrar = /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.enviarFormulario.bind(this),\n            children: [\"Para guardar su puntuacci\\xF3n inserte su nombre:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"name\",\n              pattern: \"[A-Za-z0-9_-]{4,10}\",\n              title: \"Solo letras y n\\xFAmeros\",\n              minLength: \"4\",\n              maxLength: \"10\",\n              onChange: e => {\n                this.setState({\n                  nombreUsuario: e.target.value.trim()\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              value: \"Guardar Puntuacion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this);\n        } //Añade la tabla ha la renderización\n\n\n        mostrarTabla = /*#__PURE__*/_jsxDEV(TablaRecords, {\n          records: this.state.todosLosRecords\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 24\n        }, this);\n      } //Si se han creado 0 compuestos\n\n\n      if (this.state.compuestosCreados === 0) {\n        h1CompuestosCreados = undefined; //Lo hace indefinido\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Fin_Juego_Div Fin_Juego\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"Fin_Juego\",\n            children: [\"EL JUEGO SE HA ACABADO, HAS OBTENIDO UN TOTAL DE \", this.state.puntosTotales, \" PUNTOS, Y FORMULADO \", this.state.compuestosCreados.length, \" COMPUESTOS. \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListaCompuestos, {\n            id: \"Lista_Compuestos\",\n            lista: this.state.compuestosCreados\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), //Muestra lo que se a de mostrar\n          aMostrar, /*#__PURE__*/_jsxDEV(NotificacicionUsuario, {\n            id: \"Notificacion_Final\",\n            texto: this.state.notficacion,\n            tipo: this.state.buenaNotificacion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Ranking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), mostrarTabla, /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"Panel_Control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"Boton_Play_Pause Boton_Normal\",\n              children: \"Volver a Jugar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this);\n    } else {\n      //Almacena la ID de el boton lo cual hace que que cambie le tamaño del botón\n      var idBoton, botonAcabar; // Almacena el \n\n      if (this.state.textoBotonControl === \"Empezar\") {\n        idBoton = \"Empezar\"; //Almacena lo que pondrá\n\n        botonAcabar = /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 23\n        }, this);\n      } else {\n        idBoton = \"Boton_de_Control\"; //Almacena el botón que creará cuando se este jugando\n\n        botonAcabar = /*#__PURE__*/_jsxDEV(\"button\", {\n          id: idBoton,\n          onClick: this.terminar.bind(this),\n          className: \"Boton_Normal Boton_Play_Pause\",\n          children: \"Terminar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 23\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          \"aria-disabled\": \"true\",\n          className: \"Panel_Control\",\n          children: [/*#__PURE__*/_jsxDEV(Validacion, {\n            jugando: this.state.juegoEnMarcha,\n            funcionAlPulsar: this.actualizarEstado.bind(this),\n            funcionNotificar: this.notificar.bind(this),\n            elementosDisponibles: this.state.arrayObjeto\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"Tabla_Marca\",\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Marcador, {\n                    texto: \"Puntos\",\n                    acabar: this.terminar.bind(this),\n                    puntuacion: this.state.puntosTotales\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Marcador, {\n                    texto: \"Compuestos Creados\",\n                    puntuacion: this.state.compuestosCreados.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"Notificacion_Compuesto\",\n          children: /*#__PURE__*/_jsxDEV(NotificacicionUsuario, {\n            texto: this.state.notficacion,\n            tipo: this.state.buenaNotificacion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"banca\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"filaElementos\",\n                  children: [/*#__PURE__*/_jsxDEV(ElementoReact, {\n                    objeto: this.state.arrayObjeto[0]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(ElementoReact, {\n                    objeto: this.state.arrayObjeto[2]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(ElementoReact, {\n                    objeto: this.state.arrayObjeto[4]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(ElementoReact, {\n                    objeto: this.state.arrayObjeto[6]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                width: \"30%\",\n                className: \"banca\",\n                colSpan: \"2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"banca\",\n                  children: /*#__PURE__*/_jsxDEV(PilaRobar, {\n                    jugando: this.state.juegoEnMarcha,\n                    terminarJuego: this.terminar.bind(this),\n                    robarUnaCarta: this.robarCarta.bind(this),\n                    restaurar: this.devolverAlEstadoOriginal.bind(this),\n                    anyadirAlEstadoCartaRobada: this.anyadirCartaRobado.bind(this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"filaElementos\",\n                  children: [/*#__PURE__*/_jsxDEV(ElementoReact, {\n                    objeto: this.state.arrayObjeto[1]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(ElementoReact, {\n                    objeto: this.state.arrayObjeto[3]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(ElementoReact, {\n                    objeto: this.state.arrayObjeto[5]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(ElementoReact, {\n                    objeto: this.state.arrayObjeto[7]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"Panel_Control\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  id: idBoton,\n                  className: \"Boton_Normal Boton_Play_Pause\",\n                  onClick: this.pausarOContinuar.bind(this),\n                  children: this.state.textoBotonControl\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 19\n                }, this), botonAcabar]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/javi/Programacion/Web/Formulacion/Client/src/App.js"],"names":["ListaCompuestos","Marcador","Validacion","ElementoReact","NotificacicionUsuario","PilaRobar","numeroDeCartas","tiempoNotificacionSegundos","TablaRecords","React","require","App","Component","constructor","props","state","arrayObjeto","window","$cartasDisponibles","puntosTotales","notficacion","undefined","buenaNotificacion","juegoAcabado","juegoEnMarcha","textoBotonControl","compuestosCreados","api","todosLosRecords","nombreUsuario","actualizarEstado","a","nuevoCompuestoCreado","setState","Number","concat","anyadirCartaRobado","elementoRobado","devolverAlEstadoOriginal","robarCarta","cartaARobar","$baraja","splice","$cartaRobarUsada","$cartaRobada","notificar","nuevaNotificacion","bien","setTimeout","bind","terminar","pausarOContinuar","nuevoTexto","componentDidMount","fetch","then","response","json","data","enviarFormulario","e","preventDefault","nickNuevoRecord","comprobarSiCoinciden","puntos","nombre","url","arr","i","length","nick","render","aMostrar","mostrarTabla","h1CompuestosCreados","target","value","trim","idBoton","botonAcabar"],"mappings":";AAAA,OAAO,WAAP,C,CAA0B;;AAC1B,OAAO,YAAP;AACA,OAAO,oBAAP;AACA,OAAO,mBAAP;AACA,OAAO,iBAAP;AAEA,OAAOA,eAAP,MAA4B,yBAA5B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,UAAP,MAAuB,WAAvB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,qBAAP,MAAkC,gBAAlC;AACA,OAAOC,SAAP,MAAsB,eAAtB,C,CAEA;;AAEA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAASC,0BAAT,QAA2C,kBAA3C;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;;AAIA,IAAIC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB,C,CAAgC;;;AAEhC,MAAMC,GAAN,SAAkBF,KAAK,CAACG,SAAxB,CAAkC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAEjB,UAAMA,KAAN,EAFiB,CAIjB;;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE,CAAC,GAAGC,MAAM,CAACC,kBAAX,CADF;AACkCC,MAAAA,aAAa,EAAE,CADjD;AAEXC,MAAAA,WAAW,EAAEC,SAFF;AAEaC,MAAAA,iBAAiB,EAAE,IAFhC;AAEsCC,MAAAA,YAAY,EAAE,KAFpD;AAGXC,MAAAA,aAAa,EAAE,KAHJ;AAGWC,MAAAA,iBAAiB,EAAE,SAH9B;AAGyCC,MAAAA,iBAAiB,EAAE,EAH5D;AAIXC,MAAAA,GAAG,EAAEN,SAJM;AAMXO,MAAAA,eAAe,EAAEP,SANN;AAMmB;AAE9BQ,MAAAA,aAAa,EAAER,SARJ,CAQoB;;AARpB,KAAb;AAWD,GAjB+B,CAmBhC;;;AACAS,EAAAA,gBAAgB,CAACC,CAAD,EAAIC,oBAAJ,EAA0B;AAExC,SAAKC,QAAL,CAAc;AACZjB,MAAAA,WAAW,EAAE,CAAC,GAAGC,MAAM,CAACC,kBAAX,CADD;AAEZC,MAAAA,aAAa,EAAEe,MAAM,CAACH,CAAC,GAAG,KAAKhB,KAAL,CAAWI,aAAhB,CAFT;AAGZO,MAAAA,iBAAiB,EAAE,KAAKX,KAAL,CAAWW,iBAAX,CAA6BS,MAA7B,CAAoCH,oBAApC;AAHP,KAAd;AAMD,GA5B+B,CA8BhC;;;AACAI,EAAAA,kBAAkB,CAACC,cAAD,EAAiB;AAEjC;AACA,SAAKJ,QAAL,CAAc;AAAEjB,MAAAA,WAAW,EAAE,KAAKD,KAAL,CAAWC,WAAX,CAAuBmB,MAAvB,CAA8BE,cAA9B;AAAf,KAAd;AAED,GApC+B,CAsChC;;;AAEAC,EAAAA,wBAAwB,GAAG;AAEzB;AACA,SAAKL,QAAL,CAAc;AAAEjB,MAAAA,WAAW,EAAE,CAAC,GAAGC,MAAM,CAACC,kBAAX;AAAf,KAAd;AAED,GA7C+B,CA+ChC;;;AACAqB,EAAAA,UAAU,CAACC,WAAD,EAAc;AAGtB;AACAvB,IAAAA,MAAM,CAACwB,OAAP,CAAeC,MAAf,CAAsB,CAAtB,EAAyB,CAAzB;AAEA,SAAKT,QAAL,CAAc;AAAEjB,MAAAA,WAAW,EAAE,CAAC,GAAGC,MAAM,CAACC,kBAAX,EAA+BiB,MAA/B,CAAsClB,MAAM,CAACwB,OAAP,CAAe,CAAf,CAAtC;AAAf,KAAd,EANsB,CAQtB;;AACAxB,IAAAA,MAAM,CAAC0B,gBAAP,GAA0B,KAA1B,CATsB,CAWtB;;AAEA1B,IAAAA,MAAM,CAAC2B,YAAP,GAAsB3B,MAAM,CAACwB,OAAP,CAAe,CAAf,CAAtB,CAbsB,CAetB;;AACA,WAAOxB,MAAM,CAACwB,OAAP,CAAe,CAAf,CAAP;AACD,GAjE+B,CAmEhC;;;AACAI,EAAAA,SAAS,CAACC,iBAAD,EAAoBC,IAApB,EAA0B;AAEjC;AACA,SAAKd,QAAL,CAAc;AAAEb,MAAAA,WAAW,EAAE0B,iBAAf;AAAkCxB,MAAAA,iBAAiB,EAAEyB;AAArD,KAAd,EAHiC,CAMjC;;AACAC,IAAAA,UAAU,CAAC,YAAY;AAErB;AACA,WAAKf,QAAL,CAAc;AAAEb,QAAAA,WAAW,EAAEC,SAAf;AAA0BC,QAAAA,iBAAiB,EAAE;AAA7C,OAAd;AAED,KALU,CAKT2B,IALS,CAKJ,IALI,CAAD,EAKI1C,0BAA0B,GAAG,IALjC,CAAV,CAPiC,CAYoB;AAGtD,GAnF+B,CAqFhC;;;AACA2C,EAAAA,QAAQ,GAAG;AAET;AACA,SAAKjB,QAAL,CAAc;AAAEV,MAAAA,YAAY,EAAE;AAAhB,KAAd;AACD,GA1F+B,CA4FhC;;;AACA4B,EAAAA,gBAAgB,GAAG;AAEjB,QAAIC,UAAJ,CAFiB,CAED;AAEhB;;AACA,QAAI,KAAKrC,KAAL,CAAWS,aAAX,KAA6B,IAAjC,EAAuC;AAErC;AACA4B,MAAAA,UAAU,GAAG,UAAb;AAED,KALD,MAKO;AACLA,MAAAA,UAAU,GAAG,QAAb;AACD,KAZgB,CAcjB;;;AACA,SAAKnB,QAAL,CAAc;AAAET,MAAAA,aAAa,EAAE,CAAC,KAAKT,KAAL,CAAWS,aAA7B;AAA4CC,MAAAA,iBAAiB,EAAE2B;AAA/D,KAAd;AAED;;AAGDC,EAAAA,iBAAiB,GAAG;AAClB;AAGAC,IAAAA,KAAK,CAAC,oCAAD,CAAL,CAA4CC,IAA5C,CAAiDC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAA7D,EAA8EF,IAA9E,CAAoFG,IAAD,IAAU;AAAE,WAAKzB,QAAL,CAAc;AAAEL,QAAAA,eAAe,EAAE8B;AAAnB,OAAd;AAA2C,KAA1I;AAGD,GAxH+B,CA0HhC;;;AACAC,EAAAA,gBAAgB,CAACC,CAAD,EAAI;AAClBA,IAAAA,CAAC,CAACC,cAAF;AAEA,QAAIC,eAAe,GAAG,KAAK/C,KAAL,CAAWc,aAAjC;;AAEA,QAAIkC,oBAAoB,CAAC,KAAKhD,KAAL,CAAWa,eAAZ,CAApB,KAAqD,IAAzD,EAA+D;AAE7D,WAAKiB,SAAL,CAAe,4BAAf,EAA6C,KAA7C;AACD,KAHD,MAGO;AAEL,UAAImB,MAAM,GAAG,KAAKjD,KAAL,CAAWI,aAAxB;AAEA,UAAI8C,MAAM,GAAG,KAAKlD,KAAL,CAAWc,aAAxB;AAEA,UAAIqC,GAAG,GAAI,yCAAwCD,MAAO,WAAUD,MAAO,EAA3E;AAEAV,MAAAA,KAAK,CAACY,GAAD,CAAL,CAAWX,IAAX,CAAgBC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAA5B,EAA6CF,IAA7C,CAAmDG,IAAD,IAAU;AAAE,aAAKzB,QAAL,CAAc;AAAEL,UAAAA,eAAe,EAAE8B;AAAnB,SAAd;AAA0C,OAAxG;AAEA,WAAKb,SAAL,CAAe,4BAAf,EAA6C,IAA7C;AAGD,KArBiB,CAuBlB;;;AAGA,aAASkB,oBAAT,CAA8BI,GAA9B,EAAmC;AACjC,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAAG,CAACE,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AAEnC,YAAIN,eAAe,KAAKK,GAAG,CAACC,CAAD,CAAH,CAAOE,IAA/B,EAAqC;AAEnC,iBAAO,IAAP;AAGD;AAEF;AACF;AACF,GAjK+B,CAmKhC;;;AACAC,EAAAA,MAAM,GAAG;AACP;AACA,QAAI,KAAKxD,KAAL,CAAWQ,YAAX,KAA4B,IAAhC,EAAsC;AAEpC,UAAIiD,QAAQ,GAAGnD,SAAf,CAFoC,CAEP;;AAE7B,UAAIoD,YAAY,gBAAG;AAAG,QAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAnB,CAJoC,CAIyE;;;AAE7G,UAAIC,mBAAmB,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA1B,CANoC,CAQpC;AAEA;;;AACA,UAAI,KAAK3D,KAAL,CAAWa,eAAX,KAA+BP,SAAnC,EAA8C;AAE5C;AACA,YAAI,KAAKN,KAAL,CAAWI,aAAX,GAA2B,KAAKJ,KAAL,CAAWa,eAAX,CAA2B,KAAKb,KAAL,CAAWa,eAAX,CAA2ByC,MAA3B,GAAoC,CAA/D,EAAkEL,MAAjG,EAAyG;AAEvGQ,UAAAA,QAAQ,gBACN;AAAM,YAAA,QAAQ,EAAE,KAAKb,gBAAL,CAAsBV,IAAtB,CAA2B,IAA3B,CAAhB;AAAA,yFAGE;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,OAAO,EAAC,qBAA3B;AAAiD,cAAA,KAAK,EAAC,0BAAvD;AAA+E,cAAA,SAAS,EAAC,GAAzF;AAA6F,cAAA,SAAS,EAAC,IAAvG;AAA4G,cAAA,QAAQ,EAAGW,CAAD,IAAO;AAAE,qBAAK3B,QAAL,CAAc;AAAEJ,kBAAAA,aAAa,EAAE+B,CAAC,CAACe,MAAF,CAASC,KAAT,CAAeC,IAAf;AAAjB,iBAAd;AAA0D;AAAzL;AAAA;AAAA;AAAA;AAAA,oBAHF,eAKE;AAAA;AAAA;AAAA;AAAA,oBALF,eAOE;AAAO,cAAA,IAAI,EAAC,QAAZ;AAAqB,cAAA,KAAK,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA,oBAPF,eASE;AAAA;AAAA;AAAA;AAAA,oBATF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF;AAeD,SApB2C,CAsB5C;;;AAEAJ,QAAAA,YAAY,gBAAG,QAAC,YAAD;AAAc,UAAA,OAAO,EAAE,KAAK1D,KAAL,CAAWa;AAAlC;AAAA;AAAA;AAAA;AAAA,gBAAf;AAED,OArCmC,CAuCpC;;;AACA,UAAI,KAAKb,KAAL,CAAWW,iBAAX,KAAiC,CAArC,EAAwC;AAEtCgD,QAAAA,mBAAmB,GAAGrD,SAAtB,CAFsC,CAEJ;AAEnC;;AAGD,0BAEE;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,yBAAf;AAAA,kCACE;AAAG,YAAA,SAAS,EAAC,WAAb;AAAA,4EAA2E,KAAKN,KAAL,CAAWI,aAAtF,2BAA0H,KAAKJ,KAAL,CAAWW,iBAAX,CAA6B2C,MAAvJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA,kBAFF,eAKE,QAAC,eAAD;AAAiB,YAAA,EAAE,EAAC,kBAApB;AAAuC,YAAA,KAAK,EAAE,KAAKtD,KAAL,CAAWW;AAAzD;AAAA;AAAA;AAAA;AAAA,kBALF,EASI;AACA8C,UAAAA,QAVJ,eAYE,QAAC,qBAAD;AAAuB,YAAA,EAAE,EAAC,oBAA1B;AAA+C,YAAA,KAAK,EAAE,KAAKzD,KAAL,CAAWK,WAAjE;AAA8E,YAAA,IAAI,EAAE,KAAKL,KAAL,CAAWO;AAA/F;AAAA;AAAA;AAAA;AAAA,kBAZF,eAcE;AAAA;AAAA;AAAA;AAAA,kBAdF,eAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjBF,EAmBGmD,YAnBH,eAqBE;AAAM,YAAA,SAAS,EAAC,eAAhB;AAAA,mCAEE;AAAQ,cAAA,SAAS,EAAC,+BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,kBArBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF;AAoCD,KAnFD,MAmFO;AACL;AACA,UAAIK,OAAJ,EAAaC,WAAb,CAFK,CAEwB;;AAC7B,UAAI,KAAKhE,KAAL,CAAWU,iBAAX,KAAiC,SAArC,EAAgD;AAC9CqD,QAAAA,OAAO,GAAG,SAAV,CAD8C,CAG9C;;AACAC,QAAAA,WAAW,gBAAG;AAAA;AAAA;AAAA;AAAA,gBAAd;AACD,OALD,MAOK;AACHD,QAAAA,OAAO,GAAG,kBAAV,CADG,CAEH;;AACAC,QAAAA,WAAW,gBAAG;AAAQ,UAAA,EAAE,EAAED,OAAZ;AAAqB,UAAA,OAAO,EAAE,KAAK5B,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAA9B;AAAwD,UAAA,SAAS,EAAC,+BAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAd;AAED;;AAED,0BAEE;AAAA,gCAEE;AAAK,2BAAc,MAAnB;AAA0B,UAAA,SAAS,EAAC,eAApC;AAAA,kCAEE,QAAC,UAAD;AAAY,YAAA,OAAO,EAAE,KAAKlC,KAAL,CAAWS,aAAhC;AAA+C,YAAA,eAAe,EAAE,KAAKM,gBAAL,CAAsBmB,IAAtB,CAA2B,IAA3B,CAAhE;AAAkG,YAAA,gBAAgB,EAAE,KAAKJ,SAAL,CAAeI,IAAf,CAAoB,IAApB,CAApH;AAA+I,YAAA,oBAAoB,EAAE,KAAKlC,KAAL,CAAWC;AAAhL;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAO,YAAA,SAAS,EAAC,aAAjB;AAAA,mCACE;AAAA,sCACE;AAAA,uCACE;AAAA,yCACE,QAAC,QAAD;AAAU,oBAAA,KAAK,EAAC,QAAhB;AAAyB,oBAAA,MAAM,EAAE,KAAKkC,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAjC;AAA2D,oBAAA,UAAU,EAAE,KAAKlC,KAAL,CAAWI;AAAlF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAQE;AAAA,uCACE;AAAA,yCACE,QAAC,QAAD;AAAU,oBAAA,KAAK,EAAC,oBAAhB;AAAqC,oBAAA,UAAU,EAAE,KAAKJ,KAAL,CAAWW,iBAAX,CAA6B2C;AAA9E;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eA0BE;AAAK,UAAA,EAAE,EAAC,wBAAR;AAAA,iCAEE,QAAC,qBAAD;AAAuB,YAAA,KAAK,EAAE,KAAKtD,KAAL,CAAWK,WAAzC;AAAsD,YAAA,IAAI,EAAE,KAAKL,KAAL,CAAWO;AAAvE;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,gBA1BF,eA+BE;AAAA;AAAA;AAAA;AAAA,gBA/BF,eA+BQ;AAAA;AAAA;AAAA;AAAA,gBA/BR,eAgCE;AAAO,UAAA,SAAS,EAAC,OAAjB;AAAA,iCAEE;AAAA,oCACE;AAAA,sCACE;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,eAAf;AAAA,0CAEE,QAAC,aAAD;AACE,oBAAA,MAAM,EAAE,KAAKP,KAAL,CAAWC,WAAX,CAAuB,CAAvB;AADV;AAAA;AAAA;AAAA;AAAA,0BAFF,eAME,QAAC,aAAD;AACE,oBAAA,MAAM,EAAE,KAAKD,KAAL,CAAWC,WAAX,CAAuB,CAAvB;AADV;AAAA;AAAA;AAAA;AAAA,0BANF,eAUE,QAAC,aAAD;AACE,oBAAA,MAAM,EAAE,KAAKD,KAAL,CAAWC,WAAX,CAAuB,CAAvB;AADV;AAAA;AAAA;AAAA;AAAA,0BAVF,eAcE,QAAC,aAAD;AACE,oBAAA,MAAM,EAAE,KAAKD,KAAL,CAAWC,WAAX,CAAuB,CAAvB;AADV;AAAA;AAAA;AAAA;AAAA,0BAdF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAuBE;AAAI,gBAAA,KAAK,EAAC,KAAV;AAAgB,gBAAA,SAAS,EAAC,OAA1B;AAAkC,gBAAA,OAAO,EAAC,GAA1C;AAAA,uCAEE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA,yCAEE,QAAC,SAAD;AAAW,oBAAA,OAAO,EAAE,KAAKD,KAAL,CAAWS,aAA/B;AAA8C,oBAAA,aAAa,EAAE,KAAK0B,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAA7D;AAAuF,oBAAA,aAAa,EAAE,KAAKV,UAAL,CAAgBU,IAAhB,CAAqB,IAArB,CAAtG;AAAkI,oBAAA,SAAS,EAAE,KAAKX,wBAAL,CAA8BW,IAA9B,CAAmC,IAAnC,CAA7I;AAAuL,oBAAA,0BAA0B,EAAE,KAAKb,kBAAL,CAAwBa,IAAxB,CAA6B,IAA7B;AAAnN;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,sBAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAkCE;AAAA,sCAEE;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,eAAf;AAAA,0CAEE,QAAC,aAAD;AACE,oBAAA,MAAM,EAAE,KAAKlC,KAAL,CAAWC,WAAX,CAAuB,CAAvB;AADV;AAAA;AAAA;AAAA;AAAA,0BAFF,eAME,QAAC,aAAD;AACE,oBAAA,MAAM,EAAE,KAAKD,KAAL,CAAWC,WAAX,CAAuB,CAAvB;AADV;AAAA;AAAA;AAAA;AAAA,0BANF,eAUE,QAAC,aAAD;AACE,oBAAA,MAAM,EAAE,KAAKD,KAAL,CAAWC,WAAX,CAAuB,CAAvB;AADV;AAAA;AAAA;AAAA;AAAA,0BAVF,eAcE,QAAC,aAAD;AACE,oBAAA,MAAM,EAAE,KAAKD,KAAL,CAAWC,WAAX,CAAuB,CAAvB;AADV;AAAA;AAAA;AAAA;AAAA,0BAdF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAFF,eAyBE;AAAI,gBAAA,SAAS,EAAC,eAAd;AAAA,wCAEE;AAAQ,kBAAA,EAAE,EAAE8D,OAAZ;AAAqB,kBAAA,SAAS,EAAC,+BAA/B;AAA+D,kBAAA,OAAO,EAAE,KAAK3B,gBAAL,CAAsBF,IAAtB,CAA2B,IAA3B,CAAxE;AAAA,4BAA2G,KAAKlC,KAAL,CAAWU;AAAtH;AAAA;AAAA;AAAA;AAAA,wBAFF,eAIE;AAAA;AAAA;AAAA;AAAA,wBAJF,EAMGsD,WANH;AAAA;AAAA;AAAA;AAAA;AAAA,sBAzBF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAlCF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,gBAhCF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AA+GD;AACF;;AA1X+B;;AA6XlC,eAAepE,GAAf","sourcesContent":["import './App.css';       //Importa la hoja de estilo App\nimport './main.css';\nimport './notificacion.css';\nimport './tipografias.css';\nimport './elementos.css';\n\nimport ListaCompuestos from './ListaCompuestoCreados';\nimport Marcador from './Marcador';\nimport Validacion from './Validar';\nimport ElementoReact from './ElementoReact';\nimport NotificacicionUsuario from './notificacion';\nimport PilaRobar from './PilaDeRobar';\n\n//Variables a Importar\n\nimport numeroDeCartas from './palabrasClaves';\nimport { tiempoNotificacionSegundos } from './palabrasClaves';\nimport TablaRecords from './TablaRecords';\n\n\n\nvar React = require('react');   //Activa REACt\n\nclass App extends React.Component {\n  constructor(props) {\n\n    super(props);\n\n    //Define las propiedades\n    this.state = {\n      arrayObjeto: [...window.$cartasDisponibles], puntosTotales: 0,\n      notficacion: undefined, buenaNotificacion: true, juegoAcabado: false,\n      juegoEnMarcha: false, textoBotonControl: \"Empezar\", compuestosCreados: [],\n      api: undefined,\n\n      todosLosRecords: undefined,   //Almacena todos los records que han sido desacargados desde la api\n\n      nombreUsuario: undefined       //Almacena el nnomvbre del usuario\n    }\n\n  }\n\n  //Actualiza el estado y suma los puntos\n  actualizarEstado(a, nuevoCompuestoCreado) {\n\n    this.setState({\n      arrayObjeto: [...window.$cartasDisponibles],\n      puntosTotales: Number(a + this.state.puntosTotales),\n      compuestosCreados: this.state.compuestosCreados.concat(nuevoCompuestoCreado)\n    });\n\n  }\n\n  //Función que añade el elemento robado a la clase\n  anyadirCartaRobado(elementoRobado) {\n\n    //Se utiliza concat en vez de push porqur push no se puede usar en react\n    this.setState({ arrayObjeto: this.state.arrayObjeto.concat(elementoRobado) });\n\n  }\n\n  //Devolver las cartas disponiles al estado original\n\n  devolverAlEstadoOriginal() {\n\n    //Devolver las cartas disponiles al estado original\n    this.setState({ arrayObjeto: [...window.$cartasDisponibles] });\n\n  }\n\n  //roba una carta\n  robarCarta(cartaARobar) {\n\n\n    //Elimina la 1ª casilla del array baraja\n    window.$baraja.splice(0, 1);\n\n    this.setState({ arrayObjeto: [...window.$cartasDisponibles].concat(window.$baraja[0]) });\n\n    //Dice que carta robar usada es igual a falso\n    window.$cartaRobarUsada = false;\n\n    //Definimos cual es la carta robada\n\n    window.$cartaRobada = window.$baraja[0]\n\n    //Devolvemos baraja [0]\n    return window.$baraja[0];\n  }\n\n  //Edita el estado conforme el imput y lo devuelve a configuración origianl\n  notificar(nuevaNotificacion, bien) {\n\n    //Añade al estado la notificación y si es buena o mal\n    this.setState({ notficacion: nuevaNotificacion, buenaNotificacion: bien });\n\n\n    //Pone un ocntador hacía atras\n    setTimeout(function () {\n\n      //Revierte el estado poniendolo en configuración original\n      this.setState({ notficacion: undefined, buenaNotificacion: true });\n\n    }.bind(this), tiempoNotificacionSegundos * 1000);    //El numero es el tiempo en milisegundos, por eso multiplico por mil\n\n\n  }\n\n  //Cambia el esta haviendo que el juego se acabe\n  terminar() {\n\n    //Hace que juego acabado sea igual a verdadero\n    this.setState({ juegoAcabado: true })\n  }\n\n  //Pausa o despausa el texto\n  pausarOContinuar() {\n\n    var nuevoTexto; //Texto que va a contener el texto\n\n    //Comprueba si juego esta en marcha\n    if (this.state.juegoEnMarcha === true) {\n\n      //Asigna el nuevo texto\n      nuevoTexto = \"Reanudar\";\n\n    } else {\n      nuevoTexto = \"Pausar\";\n    }\n\n    //Invierte el valor de \n    this.setState({ juegoEnMarcha: !this.state.juegoEnMarcha, textoBotonControl: nuevoTexto })\n\n  }\n\n\n  componentDidMount() {\n    //API\n\n\n    fetch(\"http://localhost:3000/fetchrecords\").then(response => response.json()).then((data) => { this.setState({ todosLosRecords: data }); });\n\n\n  }\n\n  //Se ejecuta al enviar el formulario\n  enviarFormulario(e) {\n    e.preventDefault();\n\n    let nickNuevoRecord = this.state.nombreUsuario;\n\n    if (comprobarSiCoinciden(this.state.todosLosRecords) === true) {\n\n      this.notificar(\"Este nombre ya esta en uso\", false);\n    } else {\n\n      var puntos = this.state.puntosTotales;\n\n      var nombre = this.state.nombreUsuario;\n\n      var url = `http://localhost:3000/comprobar/?nick=${nombre}&puntos=${puntos}`;\n\n      fetch(url).then(response => response.json()).then((data) => { this.setState({ todosLosRecords: data }) });\n\n      this.notificar(\"Has entrado en el ranking.\", true);\n\n\n    }\n\n    //Comprueba que los nombres no coinciden\n\n\n    function comprobarSiCoinciden(arr) {\n      for (var i = 0; i < arr.length; i++) {\n\n        if (nickNuevoRecord === arr[i].nick) {\n\n          return true;\n\n\n        }\n\n      }\n    }\n  }\n\n  //Lo que devolvera el componente APP\n  render() {\n    //Sí el juego ha acabdo\n    if (this.state.juegoAcabado === true) {\n\n      var aMostrar = undefined;    //almacena si ha habiado un nuevo record\n\n      var mostrarTabla = <p className=\"Mensaje_Error\">Se a producido un error, por favor refresque la página</p>;  //Alamacenará la tabla en caso de que se muestre\n\n      var h1CompuestosCreados = <h1>Lista de Compuestos Generados</h1>;\n\n      //Se ocupa de ver si entra en el podium\n\n      //Comprueba que se han obtenido los datos en forma de arrya\n      if (this.state.todosLosRecords !== undefined) {\n\n        //renderiza la opción  de guardar nombre\n        if (this.state.puntosTotales > this.state.todosLosRecords[this.state.todosLosRecords.length - 1].puntos) {\n\n          aMostrar =\n            <form onSubmit={this.enviarFormulario.bind(this)}>\n              Para guardar su puntuacción inserte su nombre:\n\n              <input type=\"name\" pattern=\"[A-Za-z0-9_-]{4,10}\" title=\"Solo letras y números\" minLength=\"4\" maxLength=\"10\" onChange={(e) => { this.setState({ nombreUsuario: e.target.value.trim() }); }}></input>\n\n              <br></br>\n\n              <input type=\"submit\" value=\"Guardar Puntuacion\" />\n\n              <br />\n\n\n            </form>;\n\n        }\n\n        //Añade la tabla ha la renderización\n\n        mostrarTabla = <TablaRecords records={this.state.todosLosRecords} />;\n\n      }\n\n      //Si se han creado 0 compuestos\n      if (this.state.compuestosCreados === 0) {\n\n        h1CompuestosCreados = undefined;  //Lo hace indefinido\n\n      }\n\n\n      return (\n\n        <div>\n          <div className=\"Fin_Juego_Div Fin_Juego\"  >\n            <p className=\"Fin_Juego\">EL JUEGO SE HA ACABADO, HAS OBTENIDO UN TOTAL DE {this.state.puntosTotales} PUNTOS, Y FORMULADO {this.state.compuestosCreados.length} COMPUESTOS. </p>\n            <br></br>\n\n\n            <ListaCompuestos id=\"Lista_Compuestos\" lista={this.state.compuestosCreados}></ListaCompuestos>\n\n\n\n            { //Muestra lo que se a de mostrar\n              aMostrar}\n\n            <NotificacicionUsuario id=\"Notificacion_Final\" texto={this.state.notficacion} tipo={this.state.buenaNotificacion} />\n\n            <hr />\n\n\n            <h1>Ranking</h1>\n\n            {mostrarTabla}\n\n            <form className=\"Panel_Control\">\n\n              <button className=\"Boton_Play_Pause Boton_Normal\">Volver a Jugar</button>\n\n            </form>\n          </div>\n\n\n        </div>\n\n      )\n\n    } else {\n      //Almacena la ID de el boton lo cual hace que que cambie le tamaño del botón\n      var idBoton, botonAcabar;    // Almacena el \n      if (this.state.textoBotonControl === \"Empezar\") {\n        idBoton = \"Empezar\";\n\n        //Almacena lo que pondrá\n        botonAcabar = <p></p>;\n      }\n\n      else {\n        idBoton = \"Boton_de_Control\";\n        //Almacena el botón que creará cuando se este jugando\n        botonAcabar = <button id={idBoton} onClick={this.terminar.bind(this)} className=\"Boton_Normal Boton_Play_Pause\">Terminar</button>\n\n      }\n\n      return (\n\n        <div>\n\n          <div aria-disabled=\"true\" className=\"Panel_Control\">\n\n            <Validacion jugando={this.state.juegoEnMarcha} funcionAlPulsar={this.actualizarEstado.bind(this)} funcionNotificar={this.notificar.bind(this)} elementosDisponibles={this.state.arrayObjeto}></Validacion>\n            <table className=\"Tabla_Marca\">\n              <tbody>\n                <tr>\n                  <td>\n                    <Marcador texto=\"Puntos\" acabar={this.terminar.bind(this)} puntuacion={this.state.puntosTotales}></Marcador>\n                  </td>\n\n\n                </tr>\n                <tr>\n                  <td>\n                    <Marcador texto=\"Compuestos Creados\" puntuacion={this.state.compuestosCreados.length} />\n                  </td>\n\n                </tr>\n              </tbody>\n\n            </table>\n\n          </div>\n\n          <div id=\"Notificacion_Compuesto\">\n\n            <NotificacicionUsuario texto={this.state.notficacion} tipo={this.state.buenaNotificacion} ></NotificacicionUsuario>\n          </div>\n\n          <br /><br />\n          <table className=\"banca\">\n\n            <tbody>\n              <tr>\n                <td>\n                  <div className=\"filaElementos\">\n\n                    <ElementoReact\n                      objeto={this.state.arrayObjeto[0]}\n                    ></ElementoReact>\n\n                    <ElementoReact\n                      objeto={this.state.arrayObjeto[2]}\n                    ></ElementoReact>\n\n                    <ElementoReact\n                      objeto={this.state.arrayObjeto[4]}\n                    ></ElementoReact>\n\n                    <ElementoReact\n                      objeto={this.state.arrayObjeto[6]}\n                    ></ElementoReact>\n\n                  </div>\n\n                </td>\n                <td width=\"30%\" className=\"banca\" colSpan=\"2\">\n\n                  <div className=\"banca\">\n\n                    <PilaRobar jugando={this.state.juegoEnMarcha} terminarJuego={this.terminar.bind(this)} robarUnaCarta={this.robarCarta.bind(this)} restaurar={this.devolverAlEstadoOriginal.bind(this)} anyadirAlEstadoCartaRobada={this.anyadirCartaRobado.bind(this)}  ></PilaRobar>\n\n                  </div>\n                </td>\n              </tr>\n\n              <tr>\n\n                <td>\n                  <div className=\"filaElementos\">\n\n                    <ElementoReact\n                      objeto={this.state.arrayObjeto[1]}\n                    ></ElementoReact>\n\n                    <ElementoReact\n                      objeto={this.state.arrayObjeto[3]}\n                    ></ElementoReact>\n\n                    <ElementoReact\n                      objeto={this.state.arrayObjeto[5]}\n                    ></ElementoReact>\n\n                    <ElementoReact\n                      objeto={this.state.arrayObjeto[7]}\n                    ></ElementoReact>\n\n                  </div>\n\n                </td>\n                {/* Botón de empezar o pausar */}\n                <td className=\"Panel_Control\">\n\n                  <button id={idBoton} className=\"Boton_Normal Boton_Play_Pause\" onClick={this.pausarOContinuar.bind(this)}>{this.state.textoBotonControl}</button>\n\n                  <br></br>\n\n                  {botonAcabar}\n                </td>\n\n              </tr>\n\n\n            </tbody>\n          </table>\n        </div>\n      )\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}